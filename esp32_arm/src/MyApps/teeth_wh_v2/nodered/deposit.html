<html>
	<head>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
    	<script>
var list = [];
$(function(){
                
//添加数据。分两部分：一个是数据，list添加；另一个是界面添加
$("#btnAppend").click(function(){
    var object = {};
    object.id_order = $("#deposit_count").val();
    object.brand = $("#brand").val();
    object.color = $("#color").val();
    object.size = $("#size").val();
    object.shape = $("#shape").val();
    object.location_vertical = $("#location_vertical").val();
    object.location_horizontal = $("#location_horizontal").val();
    object.location_index = $("#location_index").val();
    list.push(object);
    
    // var str = "订单编号:" + $("#id_order").val() 
    //           + " 品牌："+$("#brand").val() 
    //           + " 颜色："+$("#color").val() 
    //           + " 大小："+$("#size").val() 
    //           + " 形状："+$("#shape").val() 
    //           + " 上下："+$("#location_vertical").val() 
    //           + " 左右："+$("#location_horizontal").val() 
    //           + " 位置："+$("#location_index").val() 
    //           + "<br>";

    var str = "" + $("#deposit_count").val() 
              + " "+$("#brand").val() 
              + " "+$("#color").val() 
              + " "+$("#size").val() 
              + " "+$("#shape").val() 
              + " "+$("#location_vertical").val() 
              + " "+$("#location_horizontal").val() 
              + " "+$("#location_index").val() 
              + "<br>";
    $("#div_output").append(str);


})
//清空界面
$("#btnClear").click(function(){
    list=[];
    var str = "<br>";
    $("#div_output").html(str);
})
});

function submitForm() {
alert(JSON.stringify(list));
//标准的ajax请求方式，需要改的就是类型：GET或POST；url，后台地址。成功了弹出的data就是后台返回的数据。
    $.ajax({
        type: "GET",   //提交的方法 POST
        url: "http://127.0.0.1:8888/outApi/saveUserMsg", //接口地址
        data: JSON.stringify(list),// 转化为json字符串--我公司是喜欢用post和json来接收的
        async: false,//false同步，true异步
        dataType:"json",
        contentType:"application/json",
        error: function (request) {  //失败
            alert("Connection error");
        },
        success: function (data) {  //成功
            alert(data);  //就将返回的数据显示出来
        }
    });
}
</script>
</head>
<body>
    山东卷积分大数据公司  2022<p>
        散牙入库<br><br>

        入库数量：<input type="text" id="deposit_count" ><br>
品牌：<select id="brand" name="noname" >
    <option value="好口腔">好口腔</option>
    <option value="红叶牌">红叶牌</option>
    <option value="其他">其他</option>
</select><br>
颜色：<select id="color" name="noname" >
    <option value="白">白</option>
    <option value="黄">黄</option>
    <option value="灰">灰</option>
</select><br>
大小：<select id="size" name="noname" >
    <option value="大">大</option>
    <option value="中">中</option>
    <option value="小">小</option>
</select><br>
形状：<select id="shape" name="noname" >
    <option value="方">方</option>
    <option value="圆">圆</option>
    <option value="其他">其他</option>
</select><br>
上下：<select id="location_vertical" name="noname" >
    <option value="上">上</option>
    <option value="下">下</option>
</select><br>
左右：<select id="location_horizontal" name="noname" >
    <option value="左">左</option>
    <option value="右">右</option>
</select><br>
位置：<select id="location_index" name="noname" >
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
</select><br>
<!-- <input id="btnAppend" type="button" value="开始入库"><br> -->


<form id="myForm">
    <div id="div_output">
        <hr>
    </div>
    <div>
        <hr>
        <!-- <input id="btnClear" type="button" value="取消入库">  -->
        <button type="button" onclick="submitForm()">开始入库</button>
        <button type="button" onclick="submitForm()">继续入库</button>
        <button type="button" onclick="submitForm()">结束入库</button>
    </div>
</form>
</body>
</html>

