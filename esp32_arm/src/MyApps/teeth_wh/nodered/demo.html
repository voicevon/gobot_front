<html>
	<head>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
    	<script>
var list = [];
        	$(function(){
							
							//添加数据。分两部分：一个是数据，list添加；另一个是界面添加
							$("#btn").click(function(){
								var object = {};
								object.userName = $("#userName").val();
								object.userSex = $("#userSex").val();
								list.push(object);
								
								var str = "姓名：" + $("#userName").val() + "      性别："+$("#userSex").val() + "<br>";

								$("#div0").append(str);
							})
                                                                   //清空界面
							$("#btnC").click(function(){

								list=[];
								
								var str = "<br>";

								$("#div0").html(str);
							})
            });

function submitForm() {
alert(JSON.stringify(list));
//标准的ajax请求方式，需要改的就是类型：GET或POST；url，后台地址。成功了弹出的data就是后台返回的数据。
    $.ajax({
        type: "GET",   //提交的方法 POST
        url: "http://127.0.0.1:8888/outApi/saveUserMsg", //接口地址
        data: JSON.stringify(list),// 转化为json字符串--我公司是喜欢用post和json来接收的
        async: false,//false同步，true异步
        dataType:"json",
        contentType:"application/json",
        error: function (request) {  //失败
            alert("Connection error");
        },
        success: function (data) {  //成功
            alert(data);  //就将返回的数据显示出来
        }
    });
}
        </script>
    </head>
    <body>
姓名：<input type="text" id="userName" ><br>
性别：<select id="userSex" name="movieStar" >
                <option value="男">男</option>
                <option value="女">女</option>
                <option value="其他">其他</option>
            </select><br>
<input id="btn" type="button" value="添加"><br>
<input id="btnC" type="button" value="清空"><br>

 <form id="myForm">
				<div id="div0">
						
				</div>
<div >
            <button type="button" onclick="submitForm()">提交表单</button>
</div>
</form>
    </body>
</html>

